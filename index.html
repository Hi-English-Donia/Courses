<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ¨ÿØŸàŸÑ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸä ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary: #3B82F6;
            --primary-foreground: #FFFFFF;
            --secondary: #8B5CF6;
            --muted: #F3F4F6;
            --muted-foreground: #6B7280;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(to bottom right, #EBF5FF, #F3E8FF);
            min-height: 100vh;
            padding: 1rem;
        }
        
        .container {
            max-width: 72rem;
            margin: 0 auto;
            padding: 1rem;
        }
        
        h1 {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #1E3A8A;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .days-container {
            display: flex;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .days-container::-webkit-scrollbar {
            display: none;
        }
        
        .day-button {
            flex-shrink: 0;
            padding: 0.75rem 1.5rem;
            margin-right: 0.75rem;
            border-radius: 9999px;
            font-weight: bold;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            outline: none;
        }
        
        .day-button.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: var(--primary-foreground);
        }
        
        .day-button:not(.active) {
            background-color: white;
            color: var(--primary);
        }
        
        .day-button:not(.active):hover {
            background-color: var(--muted);
        }
        
        .content-card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #1E40AF;
        }
        
        .progress-section {
            background-color: #EBF8FF;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .progress-bar {
            height: 0.75rem;
            background-color: #E5E7EB;
            border-radius: 9999px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(to right, #10B981, #34D399);
            transition: width 0.5s ease-out;
        }
        
        .progress-text {
            text-align: center;
            font-size: 0.875rem;
            font-weight: bold;
            color: #065F46;
        }
        
        .tasks-section {
            background-color: #F3E8FF;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        .task-item {
            background-color: white;
            border-radius: 0.5rem;
            padding: 0.75rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .task-item:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .task-category {
            font-weight: bold;
            font-size: 0.875rem;
            color: #5B21B6;
            margin-bottom: 0.25rem;
        }
        
        .task-text {
            font-size: 0.875rem;
            color: #1E3A8A;
            background-color: rgba(255, 255, 255, 0.5);
            padding: 0.25rem;
            border-radius: 0.25rem;
            margin-bottom: 0.5rem;
        }
        
        .task-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-status-text {
            font-size: 0.75rem;
            color: var(--muted-foreground);
        }
        
        .task-checkbox {
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #D1D5DB;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .task-checkbox.completed {
            background-color: #10B981;
            border-color: #10B981;
        }
        
        .task-checkbox i {
            color: white;
            font-size: 0.75rem;
            display: none;
        }
        
        .task-checkbox.completed i {
            display: block;
        }
        
        .add-task-button {
            background: linear-gradient(to right, #9333EA, #EC4899);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }
        
        .add-task-button:hover {
            background: linear-gradient(to right, #7C3AED, #DB2777);
        }
        
        .links-section {
            background-color: #FCE7F3;
            border-radius: 0.75rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .add-link-button {
            background: linear-gradient(to right, #EC4899, #EF4444);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-link-button:hover {
            background: linear-gradient(to right, #DB2777, #DC2626);
        }
        
        .link-input-container {
            display: flex;
            flex-direction: column;
            margin-top: 1rem;
        }
        
        .link-input {
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 1px solid #F9A8D4;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }
        
        .save-link-button {
            background: linear-gradient(to right, #EC4899, #EF4444);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .save-link-button:hover {
            background: linear-gradient(to right, #DB2777, #DC2626);
        }
        
        .link-buttons-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .link-button {
            flex-grow: 1;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            border: none;
        }
        
        .open-link-button {
            background: linear-gradient(to right, #3B82F6, #2563EB);
            color: white;
        }
        
        .open-link-button:hover {
            background: linear-gradient(to right, #2563EB, #1D4ED8);
        }
        
        .edit-link-button {
            background: linear-gradient(to right, #F59E0B, #D97706);
            color: white;
        }
        
        .edit-link-button:hover {
            background: linear-gradient(to right, #D97706, #B45309);
        }
        
        .delete-link-button {
            background: linear-gradient(to right, #EF4444, #DC2626);
            color: white;
        }
        
        .delete-link-button:hover {
            background: linear-gradient(to right, #DC2626, #B91C1C);
        }
        
        .statistics-section {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .statistics-section:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .statistics-title {
            font-size: 1.125rem;
            font-weight: bold;
            color: #1E40AF;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .statistics-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .statistics-content.show {
            max-height: 1000px;
            transition: max-height 0.5s ease-in;
        }
        
        .weekly-progress {
            margin-bottom: 1rem;
        }
        
        .weekly-progress h3 {
            font-size: 1rem;
            font-weight: bold;
            color: #1E40AF;
            margin-bottom: 0.5rem;
        }
        
        .daily-statistics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.75rem;
        }
        
        .daily-stat-item {
            background-color: #F3F4F6;
            border-radius: 0.5rem;
            padding: 0.75rem;
            transition: all 0.3s ease;
        }
        
        .daily-stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .daily-stat-item h4 {
            font-size: 0.875rem;
            font-weight: bold;
            color: #1E40AF;
            margin-bottom: 0.5rem;
        }
        
        .admin-button {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .admin-button:hover {
            background-color: #2563EB;
        }
        
        .hidden {
            display: none;
        }
        
        .task-edit-input {
            width: 100%;
            padding: 0.25rem;
            border: 1px solid #D1D5DB;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }
        
        @media (max-width: 640px) {
            .tasks-grid {
                grid-template-columns: 1fr;
            }
            
            .link-buttons-container {
                flex-direction: column;
            }
            
            .link-button {
                width: 100%;
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideInFromLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInFromRight {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInFromTop {
            from { transform:  translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .slide-in-left {
            animation: slideInFromLeft 0.3s ease-out;
        }
        
        .slide-in-right {
            animation: slideInFromRight 0.3s ease-out;
        }
        
        .slide-in-top {
            animation: slideInFromTop 0.3s ease-out;
        }
        
        .content-transition {
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
        }
        
        .content-transition.hide {
            opacity: 0;
            transform: translateY(20px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="fade-in">
            ÿ¨ÿØŸàŸÑ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸä ŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©
            <i class="fas fa-calendar-alt"></i>
        </h1>
        
        <div class="days-container slide-in-left" id="daysContainer"></div>
        
        <div class="content-card content-transition" id="contentCard">
            <h2 class="section-title" id="activeDay"></h2>
            
            <div class="progress-section slide-in-left">
                <h3 class="section-title">
                    ÿ™ŸÇÿØŸÖ ÿßŸÑŸäŸàŸÖ
                    <i class="fas fa-chart-line"></i>
                </h3>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="dailyProgressBar"></div>
                </div>
                <div class="progress-text" id="dailyProgressText"></div>
            </div>
            
            <div class="tasks-section slide-in-right">
                <h3 class="section-title">
                    ÿßŸÑŸÖŸáÿßŸÖ
                    <i class="fas fa-tasks"></i>
                </h3>
                <div class="tasks-grid" id="tasksGrid"></div>
                <button class="add-task-button hidden" id="addTaskButton">
                    ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸáŸÖÿ© ÿ¨ÿØŸäÿØÿ©
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            
            <div class="links-section slide-in-left">
                <h3 class="section-title">
                    ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑
                    <i class="fas fa-link"></i>
                </h3>
                <button class="add-link-button hidden" id="addLinkButton">
                    ÿ•ÿ∂ÿßŸÅÿ© ÿ±ÿßÿ®ÿ∑
                    <i class="fas fa-plus"></i>
                </button>
                <div class="link-input-container hidden" id="linkInputContainer">
                    <input type="text" class="link-input" id="linkInput" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸáŸÜÿß...">
                    <button class="save-link-button" id="saveLinkButton">
                        ÿ≠ŸÅÿ∏
                        <i class="fas fa-save"></i>
                    </button>
                </div>
                <div class="link-buttons-container" id="linkButtonsContainer"></div>
            </div>
            
            <div class="statistics-section slide-in-right">
                <h2 class="statistics-title" id="statisticsTitle">
                    ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™
                    <i class="fas fa-chart-bar"></i>
                    <span class="ml-2">‚ñº</span>
                </h2>
                <div class="statistics-content" id="statisticsContent">
                    <div class="weekly-progress">
                        <h3>ÿßŸÑÿ™ŸÇÿØŸÖ ÿßŸÑÿ£ÿ≥ÿ®ŸàÿπŸä</h3>
                        <div class="progress-bar">
                            <div class="progress-bar-fill" id="weeklyProgressBar"></div>
                        </div>
                        <div class="progress-text" id="weeklyProgressText"></div>
                    </div>
                    <div class="daily-statistics" id="dailyStatistics"></div>
                </div>
            </div>
        </div>
    </div>
    
    <button class="admin-button hidden" id="adminButton">
        ŸÖÿ¥ÿ±ŸÅ
        <i class="fas fa-user-cog"></i>
    </button>

    <script>
        const days = ['ÿßŸÑÿ≥ÿ®ÿ™', 'ÿßŸÑÿ£ÿ≠ÿØ', 'ÿßŸÑÿßÿ´ŸÜŸäŸÜ', 'ÿßŸÑÿ´ŸÑÿßÿ´ÿßÿ°', 'ÿßŸÑÿ£ÿ±ÿ®ÿπÿßÿ°', 'ÿßŸÑÿÆŸÖŸäÿ≥', 'ÿßŸÑÿ¨ŸÖÿπÿ©'];
        const dayEmojis = ['üåÖ', '‚òÄÔ∏è', 'üåô', 'üåü', 'üåà', 'üåû', 'üïå'];
        const taskColors = [
            { light: '#DBEAFE', dark: '#93C5FD' },
            { light: '#D1FAE5', dark: '#6EE7B7' },
            { light: '#FEF3C7', dark: '#FCD34D' },
            { light: '#F3E8FF', dark: '#C084FC' },
            { light: '#FCE7F3', dark: '#F9A8D4' },
            { light: '#E0E7FF', dark: '#A5B4FC' },
            { light: '#FEE2E2', dark: '#FCA5A5' },
        ];

        let tasksData = {};
        let activeDay = days[0];
        let isAdmin = false;
        let editingTask = null;

        // DOM Elements
        const daysContainer = document.getElementById('daysContainer');
        const contentCard = document.getElementById('contentCard');
        const activeDayElement = document.getElementById('activeDay');
        const dailyProgressBar = document.getElementById('dailyProgressBar');
        const dailyProgressText = document.getElementById('dailyProgressText');
        const tasksGrid = document.getElementById('tasksGrid');
        const addTaskButton = document.getElementById('addTaskButton');
        const addLinkButton = document.getElementById('addLinkButton');
        const linkInputContainer = document.getElementById('linkInputContainer');
        const linkInput = document.getElementById('linkInput');
        const saveLinkButton = document.getElementById('saveLinkButton');
        const linkButtonsContainer = document.getElementById('linkButtonsContainer');
        const statisticsTitle = document.getElementById('statisticsTitle');
        const statisticsContent = document.getElementById('statisticsContent');
        const weeklyProgressBar = document.getElementById('weeklyProgressBar');
        const weeklyProgressText = document.getElementById('weeklyProgressText');
        const dailyStatistics = document.getElementById('dailyStatistics');
        const adminButton = document.getElementById('adminButton');

        // Initialize
        function init() {
            loadTasksData();
            renderDays();
            renderContent();
            updateStatistics();
        }

        // Load tasks data from localStorage
        function loadTasksData() {
            const savedTasks = localStorage.getItem('englishLearningTasks');
            if (savedTasks) {
                try {
                    tasksData = JSON.parse(savedTasks);
                } catch (error) {
                    console.error('Error parsing saved tasks:', error);
                    initializeDefaultTasks();
                }
            } else {
                initializeDefaultTasks();
            }
        }

        // Initialize default tasks
        function initializeDefaultTasks() {
            days.forEach((day, index) => {
                tasksData[day] = {
                    tasks: [
                        { id: `task-${day}-0`, category: 'ŸÖŸáŸÖÿ© ÿ¨ÿØŸäÿØÿ©', text: 'ÿ£ÿ∂ŸÅ ŸÖŸáŸÖÿ© ÿ¨ÿØŸäÿØÿ©', completed: false }
                    ],
                    link: '',
                    emoji: dayEmojis[index]
                };
            });
            saveTasksData();
        }

        // Save tasks data to localStorage
        function saveTasksData() {
            localStorage.setItem('englishLearningTasks', JSON.stringify(tasksData));
        }

        // Render days
        function renderDays() {
            daysContainer.innerHTML = '';
            days.forEach((day, index) => {
                const dayButton = document.createElement('button');
                dayButton.className = `day-button ${day === activeDay ? 'active' : ''}`;
                dayButton.textContent = `${day} ${tasksData[day]?.emoji || ''}`;
                dayButton.onclick = () => setActiveDay(day);
                daysContainer.appendChild(dayButton);
            });
        }

        // Set active day
        function setActiveDay(day) {
            if (day !== activeDay) {
                contentCard.classList.add('hide');
                setTimeout(() => {
                    activeDay = day;
                    renderDays();
                    renderContent();
                    contentCard.classList.remove('hide');
                }, 300);
            }
        }

        // Render content
        function renderContent() {
            activeDayElement.textContent = activeDay;
            renderTasks();
            renderDailyProgress();
            renderLink();
            updateStatistics();
        }

        // Render tasks
        function renderTasks() {
            tasksGrid.innerHTML = '';
            tasksData[activeDay]?.tasks.forEach((task, index) => {
                const taskElement = document.createElement('div');
                taskElement.className = `task-item`;
                taskElement.style.backgroundColor = task.completed ? taskColors[index % taskColors.length].dark : taskColors[index % taskColors.length].light;
                
                if (editingTask && editingTask.day === activeDay && editingTask.index === index) {
                    taskElement.innerHTML = `
                        <input type="text" class="task-edit-input" value="${task.category}" data-field="category">
                        <input type="text" class="task-edit-input" value="${task.text}" data-field="text">
                        <div class="task-status">
                            <button class="save-task-button">ÿ≠ŸÅÿ∏</button>
                        </div>
                    `;
                    
                    const saveButton = taskElement.querySelector('.save-task-button');
                    saveButton.addEventListener('click', () => saveTaskEdit(index));
                    
                    const inputs = taskElement.querySelectorAll('.task-edit-input');
                    inputs.forEach(input => {
                        input.addEventListener('keypress', (e) => {
                            if (e.key === 'Enter') {
                                saveTaskEdit(index);
                            }
                        });
                    });
                } else {
                    taskElement.innerHTML = `
                        <div class="task-category">${task.category}</div>
                        <div class="task-text">${task.text}</div>
                        <div class="task-status">
                            <span class="task-status-text">${task.completed ? 'ŸÖŸÉÿ™ŸÖŸÑÿ©' : 'ÿ∫Ÿäÿ± ŸÖŸÉÿ™ŸÖŸÑÿ©'}</span>
                            <div class="task-checkbox ${task.completed ? 'completed' : ''}" onclick="toggleTask(${index})">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    `;
                    
                    if (isAdmin) {
                        taskElement.addEventListener('click', (e) => {
                            if (!e.target.closest('.task-checkbox')) {
                                editTask(index);
                            }
                        });
                    }
                }
                
                tasksGrid.appendChild(taskElement);
            });
            addTaskButton.classList.toggle('hidden', !isAdmin);
        }

        // Toggle task completion
        function toggleTask(index) {
            tasksData[activeDay].tasks[index].completed = !tasksData[activeDay].tasks[index].completed;
            saveTasksData();
            renderTasks();
            renderDailyProgress();
            updateStatistics();
            if (tasksData[activeDay].tasks[index].completed) {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });
            }
        }

        // Edit task
        function editTask(index) {
            editingTask = { day: activeDay, index: index };
            renderTasks();
        }

        // Save task edit
        function saveTaskEdit(index) {
            const categoryInput = document.querySelector(`.task-edit-input[data-field="category"]`);
            const textInput = document.querySelector(`.task-edit-input[data-field="text"]`);
            
            tasksData[activeDay].tasks[index].category = categoryInput.value;
            tasksData[activeDay].tasks[index].text = textInput.value;
            
            editingTask = null;
            saveTasksData();
            renderTasks();
        }

        // Render daily progress
        function renderDailyProgress() {
            const progress = calculateDailyProgress(activeDay);
            dailyProgressBar.style.width = `${progress}%`;
            dailyProgressText.textContent = `${progress}%`;
        }

        // Calculate daily progress
        function calculateDailyProgress(day) {
            const tasks = tasksData[day]?.tasks || [];
            const completedTasks = tasks.filter(task => task.completed).length;
            return tasks.length > 0 ? Math.round((completedTasks / tasks.length) * 100) : 0;
        }

        // Render link
        function renderLink() {
            linkButtonsContainer.innerHTML = '';
            addLinkButton.classList.toggle('hidden', !isAdmin || tasksData[activeDay]?.link);
            linkInputContainer.classList.add('hidden');

            if (tasksData[activeDay]?.link) {
                const openLinkButton = createLinkButton('ŸÅÿ™ÿ≠ ÿßŸÑÿ±ÿßÿ®ÿ∑', 'fas fa-link', 'open-link-button', () => window.open(tasksData[activeDay].link, '_blank'));
                const editLinkButton = createLinkButton('ÿ™ÿ∫ŸäŸäÿ±', 'fas fa-edit', 'edit-link-button', showLinkInput);
                const deleteLinkButton = createLinkButton('ÿ≠ÿ∞ŸÅ', 'fas fa-trash', 'delete-link-button', deleteLink);

                linkButtonsContainer.appendChild(openLinkButton);
                if (isAdmin) {
                    linkButtonsContainer.appendChild(editLinkButton);
                    linkButtonsContainer.appendChild(deleteLinkButton);
                }
            }
        }

        // Create link button
        function createLinkButton(text, iconClass, buttonClass, onClick) {
            const button = document.createElement('button');
            button.className = `link-button ${buttonClass}`;
            button.innerHTML = `${text} <i class="${iconClass}"></i>`;
            button.onclick = onClick;
            return button;
        }

        // Show link input
        function showLinkInput() {
            linkInputContainer.classList.remove('hidden');
            linkInput.value = tasksData[activeDay]?.link || '';
            linkInput.focus();
        }

        // Save link
        function saveLink() {
            const link = linkInput.value.trim();
            if (link) {
                tasksData[activeDay].link = link;
                saveTasksData();
                renderLink();
            }
        }

        // Delete link
        function deleteLink() {
            tasksData[activeDay].link = '';
            saveTasksData();
            renderLink();
        }

        // Update statistics
        function updateStatistics() {
            const weeklyProgress = calculateWeeklyProgress();
            weeklyProgressBar.style.width = `${weeklyProgress}%`;
            weeklyProgressText.textContent = `${weeklyProgress}% ŸÖŸÉÿ™ŸÖŸÑ`;

            dailyStatistics.innerHTML = '';
            days.forEach(day => {
                const dayProgress = calculateDailyProgress(day);
                const dayStatElement = document.createElement('div');
                dayStatElement.className = 'daily-stat-item';
                dayStatElement.innerHTML = `
                    <h4>${day}</h4>
                    <div class="progress-bar">
                        <div class="progress-bar-fill" style="width: ${dayProgress}%"></div>
                    </div>
                    <div class="progress-text">${dayProgress}% ŸÖŸÉÿ™ŸÖŸÑ</div>
                `;
                dailyStatistics.appendChild(dayStatElement);
            });
        }

        // Calculate weekly progress
        function calculateWeeklyProgress() {
            let totalTasks = 0;
            let completedTasks = 0;
            Object.values(tasksData).forEach(dayData => {
                totalTasks += dayData.tasks.length;
                completedTasks += dayData.tasks.filter(task => task.completed).length;
            });
            return totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
        }

        // Toggle statistics visibility
        statisticsTitle.onclick = () => {
            statisticsContent.classList.toggle('show');
            statisticsTitle.querySelector('span').textContent = statisticsContent.classList.contains('show') ? '‚ñ≤' : '‚ñº';
        };

        // Add new task
        addTaskButton.onclick = () => {
            const newTaskId = `task-${activeDay}-${tasksData[activeDay].tasks.length}`;
            tasksData[activeDay].tasks.push({
                id: newTaskId,
                category: 'ŸÖŸáŸÖÿ© ÿ¨ÿØŸäÿØÿ©',
                text: 'ÿ£ÿ∂ŸÅ ŸÖŸáŸÖÿ© ÿ¨ÿØŸäÿØÿ©',
                completed: false
            });
            saveTasksData();
            renderTasks();
        };

        // Add link button click handler
        addLinkButton.onclick = showLinkInput;

        // Save link button click handler
        saveLinkButton.onclick = saveLink;

        // Admin mode toggle
        adminButton.onclick = () => {
            isAdmin = !isAdmin;
            adminButton.textContent = isAdmin ? 'ÿ•ŸäŸÇÿßŸÅ Ÿàÿ∂ÿπ ÿßŸÑŸÖÿ¥ÿ±ŸÅ' : 'ÿ™ŸÅÿπŸäŸÑ Ÿàÿ∂ÿπ ÿßŸÑŸÖÿ¥ÿ±ŸÅ';
            renderContent();
        };

        // Secret admin mode
        let secretKeyPresses = [];
        const secretCode = ['Control', 'Alt', 'a'];

        document.addEventListener('keydown', (event) => {
            secretKeyPresses.push(event.key);
            secretKeyPresses = secretKeyPresses.slice(-secretCode.length);

            if (secretKeyPresses.join(',') === secretCode.join(',')) {
                adminButton.classList.remove('hidden');
                setTimeout(() => adminButton.classList.add('hidden'), 5000);
            }
        });

        // Initialize the app
        init();
    </script>
</body>
</html>
